<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on thrensa.app</title>
    <link>//localhost:1313/posts/</link>
    <description>Recent content in Posts on thrensa.app</description>
    <generator>Hugo</generator>
    <language>en</language>
    <lastBuildDate>Wed, 25 Aug 2021 00:00:00 +0000</lastBuildDate>
    <atom:link href="//localhost:1313/posts/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Parnorama‑RISCV: is this possible?</title>
      <link>//localhost:1313/posts/2025-11-13_parnorama-riscv/</link>
      <pubDate>Wed, 25 Aug 2021 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/posts/2025-11-13_parnorama-riscv/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;Could the Minecraft panorama shader hide a full RISC‑V stack??? I wasn’t sure either—now it’s panorama with&#xA;panoramics per second.&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;quick-specs&#34;&gt;Quick Specs&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;RV32IMA + Zicsr + Zifencei running entirely inside a fragment shader (machine + supervisor modes intact).&lt;/li&gt;&#xA;&lt;li&gt;64 MiB RAM tucked into a 2048×2048 RGBA32UI ping-pong texture; the top-left 128×128 tile mirrors registers/CSRs.&lt;/li&gt;&#xA;&lt;li&gt;16550A UART overlay, keyboard input, and CLINT timer/software IRQs—all glued together in shader space.&lt;/li&gt;&#xA;&lt;li&gt;Fragment loop knocks out 100+ instructions every frame, hitting ~200 kHz on a 2080 Ti (Java fallback still manages&#xA;~15 kHz).&lt;/li&gt;&#xA;&lt;li&gt;Drop your own RV32 payload with one call:&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;details class=&#34;collapsable-code&#34; open&gt;&#xA;    &lt;summary title=&#34;Click to interact&#34;&gt;&lt;span class=&#34;collapsable-code__title&#34;&gt;Loading a payload&lt;/span&gt;&lt;/summary&gt;&#xA;    &lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;RiscVManager&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mgr&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;RiscVManager&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getInstance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mgr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;loadProgram&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;myPayload&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;0x80000000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mgr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/details&gt;&#xA;&#xA;&lt;h2 id=&#34;how-the-shader-keeps-its-chill&#34;&gt;How the Shader Keeps Its Chill&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Every frame, the fragment shader pulls CPU state from that 128×128 tile, runs a batch of ticks, and writes the&#xA;refreshed state back into the swap texture—no CPU handholding required.&lt;/li&gt;&#xA;&lt;li&gt;RAM writes pile up in a tiny register-resident cache; the commit pass flushes everything to the big texture so the&#xA;next frame sees a coherent memory image.&lt;/li&gt;&#xA;&lt;li&gt;Instruction decode leans on table-driven [forcecase] jump tables so DXC doesn’t implode, and even the unaligned&#xA;loads loop politely instead of exploding into inlined confetti.&lt;/li&gt;&#xA;&lt;li&gt;If the GPU taps out, the Java fallback resumes straight from the texture snapshot—zero drama, just a quick baton&#xA;pass.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;prime-time-demo-pun-required&#34;&gt;Prime Time Demo (pun required)&lt;/h2&gt;&#xA;&lt;p&gt;Below is the exact toolchain I’m using for the “primes up to 10 000” benchmark that now runs as a built-in program&#xA;(&lt;code&gt;load prime&lt;/code&gt; → &lt;code&gt;run&lt;/code&gt;).&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
